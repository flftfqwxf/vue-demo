function RunGLNL(){var e=new Date,t=new Array("周日","周一","周二","周三","周四","周五","周六"),n=t[e.getDay()];n=n+" "+CnDateofDateStr(e),n+=SolarTerm(e),document.write(n)}function DaysNumberofDate(e){return parseInt((Date.parse(e)-Date.parse(e.getFullYear()+"/1/1"))/864e5)+1}function CnDateofDate(e){var t=new Array(22,42,218,0,131,73,182,5,14,100,187,0,25,178,91,0,135,106,87,4,18,117,43,0,29,182,149,0,138,173,85,2,21,85,170,0,130,85,108,7,13,201,118,0,23,100,183,0,134,228,174,5,17,234,86,0,27,109,42,0,136,90,170,4,20,173,85,0,129,170,213,9,11,82,234,0,22,169,109,0,132,169,93,6,15,212,174,0,26,234,77,0,135,186,85,4),n=new Array,r=new Array,i,s,o=new Array,u,a,f,l,c,h,p=e.getFullYear(),d=e.getMonth()+1,v=e.getDate();p<100&&(p+=1900);if(p<1997||p>2020)return 0;o[0]=t[(p-1997)*4],o[1]=t[(p-1997)*4+1],o[2]=t[(p-1997)*4+2],o[3]=t[(p-1997)*4+3],(o[0]&128)!=0?n[0]=12:n[0]=11,i=o[0]&127,a=o[1],a<<=8,a|=o[2],s=o[3];for(u=15;u>=0;u--)r[15-u]=29,(1<<u&a)!=0&&r[15-u]++,n[15-u]==s?n[15-u+1]=-s:(n[15-u]<0?n[15-u+1]=-n[15-u]+1:n[15-u+1]=n[15-u]+1,n[15-u+1]>12&&(n[15-u+1]=1));f=DaysNumberofDate(e)-1;if(f<=r[0]-i)p>1901&&CnDateofDate(new Date(p-1+"/12/31"))<0?c=-n[0]:c=n[0],h=i+f;else{l=r[0]-i,u=1;while(l<f&&l+r[u]<f)l+=r[u],u++;c=n[u],h=f-l}return c>0?c*100+h:c*100-h}function CnYearofDate(e){var t=e.getFullYear(),n=e.getMonth()+1,r=parseInt(Math.abs(CnDateofDate(e))/100);return t<100&&(t+=1900),r>n&&t--,t-=1864,CnEra(t)+"年"}function CnMonthofDate(e){var t=new Array("零","正","二","三","四","五","六","七","八","九","十","冬","腊"),n;return n=parseInt(CnDateofDate(e)/100),n<0?"闰"+t[-n]+"月":t[n]+"月"}function CnDayofDate(e){var t=new Array("零","初一","初二","初三","初四","初五","初六","初七","初八","初九","初十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十","廿一","廿二","廿三","廿四","廿五","廿六","廿七","廿八","廿九","三十"),n;return n=Math.abs(CnDateofDate(e))%100,"初一"==t[n]?CnMonthofDate(e):SolarTerm(e)!=""?SolarTerm(e):t[n]}function DaysNumberofMonth(e){var t=e.getFullYear();t<100?t+=1900:t;var n=t;return t+="/"+(e.getMonth()+1),n+="/"+(e.getMonth()+2),t+="/1",n+="/1",parseInt((Date.parse(n)-Date.parse(t))/864e5)}function CnEra(e){var t=new Array("甲","乙","丙","丁","戊","己","庚","辛","壬","癸"),n=new Array("子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥");return t[e%10]+n[e%12]}function CnDateofDateStr(e){return CnMonthofDate(e)=="零月"?"　请调整您的计算机日期!":"农历"+CnYearofDate(e)+" "+CnMonthofDate(e)+CnDayofDate(e)}function SolarTerm(e){var t=new Array("小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"),n=new Array(1272060,1275495,1281180,1289445,1299225,1310355,1321560,1333035,1342770,1350855,1356420,1359045,1358580,1355055,1348695,1340040,1329630,1318455,1306935,1297380,1286865,1277730,1274550,1271556),r=31556926,i=new Date(1901);i.setTime(94712046e4);for(;e.getFullYear()<i.getFullYear();)i.setTime(i.getTime()-r*1e3);for(;e.getFullYear()>i.getFullYear();)i.setTime(i.getTime()+r*1e3);for(var s=0;e.getMonth()>i.getMonth();s++)i.setTime(i.getTime()+n[s]*1e3);e.getDate()>i.getDate()&&(i.setTime(i.getTime()+n[s]*1e3),s++),e.getDate()>i.getDate()&&(i.setTime(i.getTime()+n[s]*1e3),s==23?s=0:s++);var o="";return e.getDate()==i.getDate()&&(o+=t[s]),o}(function(e,t){function n(t){e.extend(!0,xt,t)}function r(n,r,f){function l(e){lt?m()&&(N(),x(e)):c()}function c(){ct=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),r.theme&&n.addClass("ui-widget"),lt=e("<div class='fc-content' style='position:relative'/>").prependTo(n),at=new i(it,r),ft=at.render(),ft&&n.prepend(ft),y(r.defaultView),r.handleWindowResize&&e(window).resize(k),g()||p(),G()}function p(){setTimeout(function(){!ht.start&&g()&&S()},0)}function d(){ht&&(rt("viewDestroy",ht,ht,ht.element),ht.triggerEventDestroy()),e(window).unbind("resize",k),at.destroy(),lt.remove(),n.removeClass("fc fc-rtl ui-widget")}function m(){return n.is(":visible")}function g(){return e("body").is(":visible")}function y(e){(!ht||e!=ht.name)&&E(e)}function E(t){mt++,ht&&(rt("viewDestroy",ht,ht,ht.element),R(),ht.triggerEventDestroy(),Z(),ht.element.remove(),at.deactivateButton(ht.name)),at.activateButton(t),ht=new Ct[t](e("<div class='fc-view fc-view-"+t+"' style='position:relative'/>").appendTo(lt),it),S(),et(),mt--}function S(e){(!ht.start||e||gt<ht.start||gt>=ht.end)&&m()&&x(e)}function x(e){mt++,ht.start&&(rt("viewDestroy",ht,ht,ht.element),R(),_()),Z(),ht.render(gt,e||0),C(),et(),(ht.afterRender||H)(),F(),I(),rt("viewRender",ht,ht,ht.element),ht.trigger("viewDisplay",ut),mt--,D()}function T(){m()&&(R(),_(),N(),C(),O())}function N(){r.contentHeight?dt=r.contentHeight:r.height?dt=r.height-(ft?ft.height():0)-M(lt):dt=Math.round(lt.width()/Math.max(r.aspectRatio,.5))}function C(){dt===t&&N(),mt++,ht.setHeight(dt),ht.setWidth(lt.width()),mt--,pt=n.outerWidth()}function k(){if(!mt)if(ht.start){var e=++vt;setTimeout(function(){e==vt&&!mt&&m()&&pt!=(pt=n.outerWidth())&&(mt++,T(),ht.trigger("windowResize",ut),mt--)},200)}else p()}function L(){_(),P()}function A(e){_(),O(e)}function O(e){m()&&(ht.setEventData(yt),ht.renderEvents(yt,e),ht.trigger("eventAfterAllRender"))}function _(){ht.triggerEventDestroy(),ht.clearEvents(),ht.clearEventData()}function D(){!r.lazyFetching||st(ht.visStart,ht.visEnd)?P():O()}function P(){ot(ht.visStart,ht.visEnd)}function B(e){yt=e,O()}function j(e){A(e)}function F(){at.updateTitle(ht.title)}function I(){var e=new Date;e>=ht.start&&e<ht.end?at.disableButton("today"):at.enableButton("today")}function q(e,n,r){ht.select(e,n,r===t?!0:r)}function R(){ht&&ht.unselect()}function U(){S(-1),G()}function z(){S(1),G()}function W(){o(gt,-1),G(),S()}function X(){o(gt,1),G(),S()}function V(){gt=new Date,G(),S()}function $(e,t,n){e instanceof Date?gt=h(e):v(gt,e,t,n),G(),S()}function J(t,n,r){var i=e("#select-month").text(),s=WdatePicker({el:"select-year",dateFmt:"yyyy",autoPickDate:!0,isShowClear:!1,isShowToday:!1,onpicked:function(e){var t=new Date;$(new Date(e.cal.getDateStr(),i?i-1:t.getMonth(),t.getDate()),n,r)},ychanged:function(e){var t=new Date;$(new Date(e.cal.date.y,i?i-1:t.getMonth(),t.getDate()),n,r)}})}function K(t,n,r){var i=e("#select-year").text(),s=WdatePicker({el:"select-month",dateFmt:"MM",autoPickDate:!0,isShowClear:!1,isShowToday:!1,onpicked:function(e){var t=new Date;$(new Date(i?i:t.getFullYear(),e.cal.getDateStr()-1,t.getDate()),n,r)},Mchanged:function(e){var t=new Date;$(new Date(i?i:e.cal.date.y,e.cal.date.M-1,t.getDate()),n,r)}})}function Q(e,n,r){e!==t&&o(gt,e),n!==t&&u(gt,n),r!==t&&a(gt,r),S()}function G(){var t=["00","01","02","03","04","05","06","07","08","09"];e("#select-year").text(gt.getFullYear()),e("#select-month").text(t[gt.getMonth()+1]||gt.getMonth()+1)}function Y(){return h(gt)}function Z(){lt.css({width:"100%",height:lt.height(),overflow:"hidden"})}function et(){lt.css({width:"",height:"",overflow:""})}function tt(){return ht}function nt(e,n){if(n===t)return r[e];if(e=="height"||e=="contentHeight"||e=="aspectRatio")r[e]=n,T()}function rt(e,t){if(r[e])return r[e].apply(t||ut,Array.prototype.slice.call(arguments,2))}var it=this;it.options=r,it.render=l,it.destroy=d,it.refetchEvents=L,it.reportEvents=B,it.reportEventChange=j,it.rerenderEvents=A,it.changeView=y,it.select=q,it.unselect=R,it.prev=U,it.next=z,it.prevYear=W,it.nextYear=X,it.today=V,it.gotoDate=$,it.selectMonth=K,it.selectYear=J,it.incrementDate=Q,it.formatDate=function(e,t){return b(e,t,r)},it.formatDates=function(e,t,n){return w(e,t,n,r)},it.getDate=Y,it.getView=tt,it.option=nt,it.trigger=rt,s.call(it,r,f);var st=it.isFetchNeeded,ot=it.fetchEvents,ut=n[0],at,ft,lt,ct,ht,pt,dt,vt=0,mt=0,gt=new Date,yt=[],bt;v(gt,r.year,r.month,r.date),r.droppable&&e(document).bind("dragstart",function(t,n){var i=t.target,s=e(i);if(!s.parents(".fc").length){var o=r.dropAccept;if(e.isFunction(o)?o.call(i,s):s.is(o))bt=i,ht.dragStart(bt,t,n)}}).bind("dragstop",function(e,t){bt&&(ht.dragStop(bt,e,t),bt=null)})}function i(t,n){function r(){p=n.theme?"ui":"fc";var t=n.header;if(t)return h=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(s("left")).append(s("center")).append(s("right"))),h}function i(){h.remove()}function s(r){var i=e("<td class='fc-header-"+r+"'/>"),s=n.header[r];return s&&e.each(s.split(" "),function(r){r>0&&i.append("<span class='fc-header-space'/>");var s;e.each(this.split(","),function(r,o){if(o=="title")i.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),s&&s.addClass(p+"-corner-right"),s=null;else{var u;t[o]?u=t[o]:Ct[o]&&(u=function(){l.removeClass(p+"-state-hover"),t.changeView(o)});if(u){var a=n.theme?I(n.buttonIcons,o):null,f=I(n.buttonText,o),l=e("<span class='fc-button fc-button-"+o+" "+p+"-state-default'>"+(a?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+a+"'/>"+"</span>":f)+"</span>").click(function(){l.hasClass(p+"-state-disabled")||u()}).mousedown(function(){l.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){l.removeClass(p+"-state-down")}).hover(function(){l.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){l.removeClass(p+"-state-hover").removeClass(p+"-state-down")}).appendTo(i);R(l),s||l.addClass(p+"-corner-left"),s=l}}}),s&&s.addClass(p+"-corner-right")}),i}function o(e){h.find("h2").html(e)}function u(e){h.find("span.fc-button-"+e).addClass(p+"-state-active")}function a(e){h.find("span.fc-button-"+e).removeClass(p+"-state-active")}function f(e){h.find("span.fc-button-"+e).addClass(p+"-state-disabled")}function l(e){h.find("span.fc-button-"+e).removeClass(p+"-state-disabled")}var c=this;c.render=r,c.destroy=i,c.updateTitle=o,c.activateButton=u,c.deactivateButton=a,c.disableButton=f,c.enableButton=l;var h=e([]),p}function s(n,r){function i(e,t){return!A||e<A||t>O}function s(e,t){A=e,O=t,P=[];var n=++M,r=L.length;_=r;for(var i=0;i<r;i++)o(L[i],n)}function o(t,r){u(t,function(i){if(r==M){if(i){n.eventDataTransform&&(i=e.map(i,n.eventDataTransform)),t.eventDataTransform&&(i=e.map(i,t.eventDataTransform));for(var s=0;s<i.length;s++)i[s].source=t,b(i[s]);P=P.concat(i)}_--,_||C(P)}})}function u(t,r){var i,s=Nt.sourceFetchers,o;for(i=0;i<s.length;i++){o=s[i](t,A,O,r);if(o===!0)return;if(typeof o=="object"){u(o,r);return}}var a=t.events;if(a)e.isFunction(a)?(g(),a(h(A),h(O),function(e){r(e),y()})):e.isArray(a)?r(a):r();else{var f=t.url;if(f){var l=t.success,c=t.error,p=t.complete,d;e.isFunction(t.data)?d=t.data():d=t.data;var v=e.extend({},d||{}),m=V(t.startParam,n.startParam),b=V(t.endParam,n.endParam);m&&(v[m]=Math.round(+A/1e3)),b&&(v[b]=Math.round(+O/1e3)),g(),e.ajax(e.extend({},kt,t,{data:v,success:function(t){t=t||[];var n=X(l,this,arguments);e.isArray(n)&&(t=n),r(t)},error:function(){X(c,this,arguments),r()},complete:function(){X(p,this,arguments),y()}}))}else r()}}function a(e){e=f(e),e&&(_++,o(e,M))}function f(t){e.isFunction(t)||e.isArray(t)?t={events:t}:typeof t=="string"&&(t={url:t});if(typeof t=="object")return w(t),L.push(t),t}function l(t){L=e.grep(L,function(e){return!E(e,t)}),P=e.grep(P,function(e){return!E(e.source,t)}),C(P)}function c(e){var t,n=P.length,r,i=N().defaultEventEnd,s=e.start-e._start,o=e.end?e.end-(e._end||i(e)):0;for(t=0;t<n;t++)r=P[t],r._id==e._id&&r!=e&&(r.start=new Date(+r.start+s),e.end?r.end?r.end=new Date(+r.end+o):r.end=new Date(+i(r)+o):r.end=null,r.title=e.title,r.url=e.url,r.allDay=e.allDay,r.className=e.className,r.editable=e.editable,r.color=e.color,r.backgroundColor=e.backgroundColor,r.borderColor=e.borderColor,r.textColor=e.textColor,b(r));b(e),C(P)}function p(e,t){b(e),e.source||(t&&(k.events.push(e),e.source=k),P.push(e)),C(P)}function d(t){if(!t){P=[];for(var n=0;n<L.length;n++)e.isArray(L[n].events)&&(L[n].events=[])}else{if(!e.isFunction(t)){var r=t+"";t=function(e){return e._id==r}}P=e.grep(P,t,!0);for(var n=0;n<L.length;n++)e.isArray(L[n].events)&&(L[n].events=e.grep(L[n].events,t,!0))}C(P)}function v(t){return e.isFunction(t)?e.grep(P,t):t?(t+="",e.grep(P,function(e){return e._id==t})):P}function g(){D++||T("loading",null,!0,N())}function y(){--D||T("loading",null,!1,N())}function b(e){var r=e.source||{},i=V(r.ignoreTimezone,n.ignoreTimezone);e._id=e._id||(e.id===t?"_fc"+Lt++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=h(e.start=m(e.start,i)),e.end=m(e.end,i),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?h(e.end):null,e.allDay===t&&(e.allDay=V(r.allDayDefault,n.allDayDefault)),e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[]}function w(e){e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[];var t=Nt.sourceNormalizers;for(var n=0;n<t.length;n++)t[n](e)}function E(e,t){return e&&t&&S(e)==S(t)}function S(e){return(typeof e=="object"?e.events||e.url:"")||e}var x=this;x.isFetchNeeded=i,x.fetchEvents=s,x.addEventSource=a,x.removeEventSource=l,x.updateEvent=c,x.renderEvent=p,x.removeEvents=d,x.clientEvents=v,x.normalizeEvent=b;var T=x.trigger,N=x.getView,C=x.reportEvents,k={events:[]},L=[k],A,O,M=0,_=0,D=0,P=[];for(var H=0;H<r.length;H++)f(r[H])}function o(e,t,n){return e.setFullYear(e.getFullYear()+t),n||c(e),e}function u(e,t,n){if(+e){var r=e.getMonth()+t,i=h(e);i.setDate(1),i.setMonth(r),e.setMonth(r),n||c(e);while(e.getMonth()!=i.getMonth())e.setDate(e.getDate()+(e<i?1:-1))}return e}function a(e,t,n){if(+e){var r=e.getDate()+t,i=h(e);i.setHours(9),i.setDate(r),e.setDate(r),n||c(e),f(e,i)}return e}function f(e,t){if(+e)while(e.getDate()!=t.getDate())e.setTime(+e+(e<t?1:-1)*Mt)}function l(e,t){return e.setMinutes(e.getMinutes()+t),e}function c(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function h(e,t){return t?c(new Date(+e)):new Date(+e)}function p(){var e=0,t;do t=new Date(1970,e++,1);while(t.getHours());return t}function d(e,t){return Math.round((h(e,!0)-h(t,!0))/Ot)}function v(e,n,r,i){n!==t&&n!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(n)),r!==t&&r!=e.getMonth()&&(e.setDate(1),e.setMonth(r)),i!==t&&e.setDate(i)}function m(e,n){return typeof e=="object"?e:typeof e=="number"?new Date(e*1e3):typeof e=="string"?e.match(/^\d+(\.\d+)?$/)?new Date(parseFloat(e)*1e3):(n===t&&(n=!0),g(e,n)||(e?new Date(e):null)):null}function g(e,t){var n=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var r=new Date(n[1],0,1);if(t||!n[13]){var i=new Date(n[1],0,1,9,0);n[3]&&(r.setMonth(n[3]-1),i.setMonth(n[3]-1)),n[5]&&(r.setDate(n[5]),i.setDate(n[5])),f(r,i),n[7]&&r.setHours(n[7]),n[8]&&r.setMinutes(n[8]),n[10]&&r.setSeconds(n[10]),n[12]&&r.setMilliseconds(Number("0."+n[12])*1e3),f(r,i)}else{r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?Number("0."+n[12])*1e3:0);if(n[14]){var s=Number(n[16])*60+(n[18]?Number(n[18]):0);s*=n[15]=="-"?1:-1,r=new Date(+r+s*60*1e3)}}return r}function y(e){if(typeof e=="number")return e*60;if(typeof e=="object")return e.getHours()*60+e.getMinutes();var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var n=parseInt(t[1],10);return t[3]&&(n%=12,t[3].toLowerCase().charAt(0)=="p"&&(n+=12)),n*60+(t[2]?parseInt(t[2],10):0)}}function b(e,t,n){return w(e,null,t,n)}function w(e,t,n,r){r=r||xt;var i=e,s=t,o,u=n.length,a,f,l,c="";for(o=0;o<u;o++){a=n.charAt(o);if(a=="'"){for(f=o+1;f<u;f++)if(n.charAt(f)=="'"){i&&(f==o+1?c+="'":c+=n.substring(o+1,f),o=f);break}}else if(a=="("){for(f=o+1;f<u;f++)if(n.charAt(f)==")"){var h=b(i,n.substring(o+1,f),r);parseInt(h.replace(/\D/,""),10)&&(c+=h),o=f;break}}else if(a=="["){for(f=o+1;f<u;f++)if(n.charAt(f)=="]"){var p=n.substring(o+1,f),h=b(i,p,r);h!=b(s,p,r)&&(c+=h),o=f;break}}else if(a=="{")i=t,s=e;else if(a=="}")i=e,s=t;else{for(f=u;f>o;f--)if(l=Dt[n.substring(o,f)]){i&&(c+=l(i,r)),o=f-1;break}f==o&&i&&(c+=a)}}return c}function E(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1}function S(e){return e.end?x(e.end,e.allDay):a(h(e.start),1)}function x(e,t){return e=h(e),t||e.getHours()||e.getMinutes()?a(e,1):c(e)}function T(n,r,i){n.unbind("mouseover").mouseover(function(n){var s=n.target,o,u,a;while(s!=this)o=s,s=s.parentNode;(u=o._fci)!==t&&(o._fci=t,a=r[u],i(a.event,a.element,a),e(n.target).trigger(n)),n.stopPropagation()})}function N(t,n,r){for(var i=0,s;i<t.length;i++)s=e(t[i]),s.width(Math.max(0,n-k(s,r)))}function C(t,n,r){for(var i=0,s;i<t.length;i++)s=e(t[i]),s.height(Math.max(0,n-M(s,r)))}function k(e,t){return L(e)+O(e)+(t?A(e):0)}function L(t){return(parseFloat(e.css(t[0],"paddingLeft",!0))||0)+(parseFloat(e.css(t[0],"paddingRight",!0))||0)}function A(t){return(parseFloat(e.css(t[0],"marginLeft",!0))||0)+(parseFloat(e.css(t[0],"marginRight",!0))||0)}function O(t){return(parseFloat(e.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.css(t[0],"borderRightWidth",!0))||0)}function M(e,t){return _(e)+P(e)+(t?D(e):0)}function _(t){return(parseFloat(e.css(t[0],"paddingTop",!0))||0)+(parseFloat(e.css(t[0],"paddingBottom",!0))||0)}function D(t){return(parseFloat(e.css(t[0],"marginTop",!0))||0)+(parseFloat(e.css(t[0],"marginBottom",!0))||0)}function P(t){return(parseFloat(e.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",!0))||0)}function H(){}function B(e,t){return e-t}function j(e){return Math.max.apply(Math,e)}function F(e){return(e<10?"0":"")+e}function I(e,n){if(e[n]!==t)return e[n];var r=n.split(/(?=[A-Z])/),i=r.length-1,s;for(;i>=0;i--){s=e[r[i].toLowerCase()];if(s!==t)return s}return e[""]}function q(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function R(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function U(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function z(e,t){e.each(function(e,n){n.className=n.className.replace(/^fc-\w*/,"fc-"+At[t.getDay()])})}function W(e,t){var n=e.source||{},r=e.color,i=n.color,s=t("eventColor"),o=e.backgroundColor||r||n.backgroundColor||i||t("eventBackgroundColor")||s,u=e.borderColor||r||n.borderColor||i||t("eventBorderColor")||s,a=e.textColor||n.textColor||t("eventTextColor"),f=[];return o&&f.push("background-color:"+o),u&&f.push("border-color:"+u),a&&f.push("color:"+a),f.join(";")}function X(t,n,r){e.isFunction(t)&&(t=[t]);if(t){var i,s;for(i=0;i<t.length;i++)s=t[i].apply(n,r)||s;return s}}function V(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==t)return arguments[e]}function $(e,t){function n(e,t){t&&(u(e,t),e.setDate(1));var n=i("firstDay"),c=h(e,!0);c.setDate(1);var p=u(h(c),1),v=h(c);a(v,-((v.getDay()-n+7)%7)),o(v);var m=h(p);a(m,(7-m.getDay()+n)%7),o(m,-1,!0);var g=f(),y=Math.round(d(m,v)/7);i("weekMode")=="fixed"&&(a(m,(6-y)*7),y=6),r.title=l(c,i("titleFormat")),r.start=c,r.end=p,r.visStart=v,r.visEnd=m,s(y,g,!0)}var r=this;r.render=n,Q.call(r,e,t,"month");var i=r.opt,s=r.renderBasic,o=r.skipHiddenDays,f=r.getCellsPerWeek,l=t.formatDate}function J(e,t){function n(e,t){t&&a(e,t*7);var n=a(h(e),-((e.getDay()-i("firstDay")+7)%7)),l=a(h(n),7),c=h(n);o(c);var p=h(l);o(p,-1,!0);var d=u();r.start=n,r.end=l,r.visStart=c,r.visEnd=p,r.title=f(c,a(h(p),-1),i("titleFormat")),s(1,d,!1)}var r=this;r.render=n,Q.call(r,e,t,"basicWeek");var i=r.opt,s=r.renderBasic,o=r.skipHiddenDays,u=r.getCellsPerWeek,f=t.formatDates}function K(e,t){function n(e,t){t&&a(e,t),o(e,t<0?-1:1);var n=h(e,!0),f=a(h(n),1);r.title=u(e,i("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=f,s(1,1,!1)}var r=this;r.render=n,Q.call(r,e,t,"basicDay");var i=r.opt,s=r.renderBasic,o=r.skipHiddenDays,u=t.formatDate}function Q(t,n,r){function i(e,t,n){lt=e,ct=t,pt=n,s(),Z||o(),u()}function s(){xt=j("theme")?"ui":"fc",Tt=j("columnFormat"),Nt=j("weekNumbers"),Ct=j("weekNumberTitle"),j("weekNumberCalculation")!="iso"?kt="w":kt="W"}function o(){st=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function u(){var n=f();K&&K.remove(),K=e(n).appendTo(t),Q=K.find("thead"),Y=Q.find(".fc-day-header"),Z=K.find("tbody"),et=Z.find("tr"),tt=Z.find(".fc-day"),nt=et.find("td:first-child"),rt=et.eq(0).find(".fc-day > div"),it=et.eq(0).find(".fc-day-content > div"),U(Q.add(Q.find("tr"))),U(et),et.eq(0).addClass("fc-first"),et.filter(":last").addClass("fc-last"),tt.each(function(t,n){var r=X(Math.floor(t/ct),t%ct);F("dayRender",B,r,e(n))}),y(tt)}function f(){var e="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+l()+p()+"</table>";return e}function l(){var e=xt+"-widget-header",t="",n,r;t+="<thead><tr>",Nt&&(t+="<th class='fc-week-number "+e+"'>"+q(Ct)+"</th>");for(n=0;n<ct;n++)r=X(0,n),t+="<th class='fc-day-header fc-"+At[r.getDay()]+" "+e+"'>"+q(J(r,Tt))+"</th>";return t+="</tr></thead>",t}function p(){var e=xt+"-widget-content",t="",n,r,i;t+="<tbody>";for(n=0;n<lt;n++){t+="<tr class='fc-week'>",Nt&&(i=X(n,0),t+="<td class='fc-week-number "+e+"'>"+"<div>"+q(J(i,kt))+"</div>"+"</td>");for(r=0;r<ct;r++)i=X(n,r),t+=d(i);t+="</tr>"}return t+="</tbody>",t}function d(e){var t=xt+"-widget-content",n=B.start.getMonth(),r=c(new Date),i="",s=[],o=["fc-day","fc-"+At[e.getDay()],t];e.getMonth()!=n&&o.push("fc-other-month"),+e==+r?(o.push("fc-today",xt+"-state-highlight"),s.push("fc-today-bg")):e<r?o.push("fc-past"):o.push("fc-future"),i+="<td class='"+o.join(" ")+"'"+" data-date='"+J(e,"yyyy-MM-dd")+"'"+">"+"<div>";if(pt){var u=CnMonthofDate(e),a=CnDayofDate(e),f=SolarTerm(e);f!=""&&(a=f);var l=u+a,h="";a=="正月"&&(h="春节");switch(l){case"正月初一":h="春节";break;case"正月十五":h="元宵";break;case"五月初五":h="端午";break;case"八月十五":h="中秋";break;case"九月初九":h="重阳";break;case"腊月三十":h="除夕"}i+="<div class='fc-day-number' style='text-align:center;'><div class='"+s.join(" ")+"'>"+e.getDate()+"</div></div>"}return i+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",i}function v(t){ut=t;var n=ut-Q.height(),r,i,s;j("weekMode")=="variable"?r=i=Math.floor(n/(lt==1?2:6)):(r=Math.floor(n/lt),i=n-r*(lt-1)),nt.each(function(t,n){t<lt&&(s=e(n),s.find("> div").css("min-height",(t==lt-1?i:r)-M(s)))})}function m(e){ot=e,mt.clear(),Et.clear(),ft=0,Nt&&(ft=Q.find("th.fc-week-number").outerWidth()),at=Math.floor((ot-ft)/ct),N(Y.slice(0,-1),at)}function y(e){e.click(b).mousedown(W)}function b(t){if(!j("selectable")){var n=g(e(this).data("date"));F("dayClick",this,n,!0,t)}}function w(e,t,n){n&&dt.build();var r=$(e,t);for(var i=0;i<r.length;i++){var s=r[i];y(E(s.row,s.leftCol,s.row,s.rightCol))}}function E(e,n,r,i){var s=dt.rect(e,n,r,i,t);return I(s,t)}function S(e,t){return h(e)}function x(e,t,n){w(e,a(h(t),1),!0)}function T(){z()}function C(e,t,n){var r=V(e),i=tt[r.row*ct+r.col];F("dayClick",i,e,t,n)}function k(e,t,n){vt.start(function(e){z(),e&&E(e.row,e.col,e.row,e.col)},t)}function L(e,t,n){var r=vt.stop();z();if(r){var i=X(r);F("drop",e,i,!0,t,n)}}function A(e){return h(e.start)}function O(e){return mt.left(e)}function _(e){return mt.right(e)}function D(e){return Et.left(e)}function P(e){return Et.right(e)}function H(e){return et.eq(e)}var B=this;B.renderBasic=i,B.setHeight=v,B.setWidth=m,B.renderDayOverlay=w,B.defaultSelectionEnd=S,B.renderSelection=x,B.clearSelection=T,B.reportDayClick=C,B.dragStart=k,B.dragStop=L,B.defaultEventEnd=A,B.getHoverListener=function(){return vt},B.colLeft=O,B.colRight=_,B.colContentLeft=D,B.colContentRight=P,B.getIsCellAllDay=function(){return!0},B.allDayRow=H,B.getRowCnt=function(){return lt},B.getColCnt=function(){return ct},B.getColWidth=function(){return at},B.getDaySegmentContainer=function(){return st},ht.call(B,t,n,r),yt.call(B),gt.call(B),G.call(B);var j=B.opt,F=B.trigger,I=B.renderOverlay,z=B.clearOverlays,W=B.daySelectionMousedown,X=B.cellToDate,V=B.dateToCell,$=B.rangeToSegments,J=n.formatDate,K,Q,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct,pt,dt,vt,mt,Et,xt,Tt,Nt,Ct,kt;R(t.addClass("fc-grid")),dt=new bt(function(t,n){var r,i,s;Y.each(function(t,o){r=e(o),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),et.each(function(n,o){n<lt&&(r=e(o),i=r.offset().top,n&&(s[1]=i),s=[i],t[n]=s)}),s[1]=i+r.outerHeight()}),vt=new wt(dt),mt=new St(function(e){return rt.eq(e)}),Et=new St(function(e){return it.eq(e)})}function G(){function e(e,t){n.renderDayEvents(e,t)}function t(){n.getDaySegmentContainer().empty()}var n=this;n.renderEvents=e,n.clearEvents=t,pt.call(n)}function Y(e,t){function n(e,t){t&&a(e,t*7);var n=a(h(e),-((e.getDay()-i("firstDay")+7)%7)),l=a(h(n),7),c=h(n);o(c);var p=h(l);o(p,-1,!0);var d=u();r.title=f(c,a(h(p),-1),i("titleFormat")),r.start=n,r.end=l,r.visStart=c,r.visEnd=p,s(d)}var r=this;r.render=n,et.call(r,e,t,"agendaWeek");var i=r.opt,s=r.renderAgenda,o=r.skipHiddenDays,u=r.getCellsPerWeek,f=t.formatDates}function Z(e,t){function n(e,t){t&&a(e,t),o(e,t<0?-1:1);var n=h(e,!0),f=a(h(n),1);r.title=u(e,i("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=f,s(1)}var r=this;r.render=n,et.call(r,e,t,"agendaDay");var i=r.opt,s=r.renderAgenda,o=r.skipHiddenDays,u=t.formatDate}function et(n,r,i){function s(e){Vt=e,o(),pt?f():u()}function o(){Zt=Z("theme")?"ui":"fc",en=Z("isRTL"),tn=y(Z("minTime")),nn=y(Z("maxTime")),rn=Z("columnFormat"),sn=Z("weekNumbers"),on=Z("weekNumberTitle"),Z("weekNumberCalculation")!="iso"?un="w":un="W",zt=Z("snapMinutes")||Z("slotMinutes")}function u(){var t=Zt+"-widget-header",r=Zt+"-widget-content",i,s,o,u,a,c=Z("slotMinutes")%15==0;f(),kt=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),Z("allDaySlot")?(Lt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(kt),i="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+t+" fc-agenda-axis'>"+Z("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+t+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",Ot=e(i).appendTo(kt),Mt=Ot.find("tr"),S(Mt.find("td")),kt.append("<div class='fc-agenda-divider "+t+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):Lt=e([]),_t=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(kt),Dt=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(_t),Pt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Dt),i="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",s=p(),u=l(h(s),nn),l(s,tn),$t=0;for(o=0;s<u;o++)a=s.getMinutes(),i+="<tr class='fc-slot"+o+" "+(a?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+t+"'>"+(!c||!a?ct(s,Z("axisFormat")):"&nbsp;")+"</th>"+"<td class='"+r+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",l(s,Z("slotMinutes")),$t++;i+="</tbody></table>",Ht=e(i).appendTo(Dt),x(Ht.find("td"))}function f(){var t=d();pt&&pt.remove(),pt=e(t).appendTo(n),dt=pt.find("thead"),vt=dt.find("th").slice(1,-1),mt=pt.find("tbody"),Et=mt.find("td").slice(0,-1),xt=Et.find("> div"),Tt=Et.find(".fc-day-content > div"),Nt=Et.eq(0),Ct=xt.eq(0),U(dt.add(dt.find("tr"))),U(mt.add(mt.find("tr")))}function d(){var e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+v()+m()+"</table>";return e}function v(){var e=Zt+"-widget-header",t,n="",r,i;n+="<thead><tr>",sn?(t=at(0,0),r=ct(t,un),en?r+=on:r=on+r,n+="<th class='fc-agenda-axis fc-week-number "+e+"'>"+q(r)+"</th>"):n+="<th class='fc-agenda-axis "+e+"'>&nbsp;</th>";for(i=0;i<Vt;i++)t=at(0,i),n+="<th class='fc-"+At[t.getDay()]+" fc-col"+i+" "+e+"'>"+q(ct(t,rn))+"</th>";return n+="<th class='fc-agenda-gutter "+e+"'>&nbsp;</th>"+"</tr>"+"</thead>",n}function m(){var e=Zt+"-widget-header",t=Zt+"-widget-content",n,r=c(new Date),i,s,o,u,a="";a+="<tbody><tr><th class='fc-agenda-axis "+e+"'>&nbsp;</th>",s="";for(i=0;i<Vt;i++)n=at(0,i),u=["fc-col"+i,"fc-"+At[n.getDay()],t],+n==+r?u.push(Zt+"-state-highlight","fc-today"):n<r?u.push("fc-past"):u.push("fc-future"),o="<td class='"+u.join(" ")+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>",s+=o;return a+=s,a+="<td class='fc-agenda-gutter "+t+"'>&nbsp;</td>"+"</tr>"+"</tbody>",a}function g(e){e===t&&(e=Ft),Ft=e,Yt={};var n=mt.position().top,r=_t.position().top,i=Math.min(e-n,Ht.height()+r+1);Ct.height(i-M(Nt)),kt.css("top",n),_t.height(i-r-1),Ut=Ht.find("tr:first").height()+1,Wt=Z("slotMinutes")/zt,Xt=Ut/Wt}function b(t){jt=t,Qt.clear(),Gt.clear();var n=dt.find("th:first");Ot&&(n=n.add(Ot.find("th:first"))),n=n.add(Ht.find("th:first")),It=0,N(n.width("").each(function(t,n){It=Math.max(It,e(n).outerWidth())}),It);var r=pt.find(".fc-agenda-gutter");Ot&&(r=r.add(Ot.find("th.fc-agenda-gutter")));var i=_t[0].clientWidth;Rt=_t.width()-i,Rt?(N(r,Rt),r.show().prev().removeClass("fc-last")):r.hide().prev().addClass("fc-last"),qt=Math.floor((i-It)/Vt),N(vt.slice(0,-1),qt)}function w(){function e(){_t.scrollTop(r)}var t=p(),n=h(t);n.setHours(Z("firstHour"));var r=F(t,n)+1;e(),setTimeout(e,0)}function E(){w()}function S(e){e.click(T).mousedown(ot)}function x(e){e.click(T).mousedown(J)}function T(e){if(!Z("selectable")){var t=Math.min(Vt-1,Math.floor((e.pageX-pt.offset().left-It)/qt)),n=at(0,t),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){var i=parseInt(r[1])*Z("slotMinutes"),s=Math.floor(i/60);n.setHours(s),n.setMinutes(i%60+tn),et("dayClick",Et[t],n,!1,e)}else et("dayClick",Et[t],n,!0,e)}}function k(e,t,n){n&&Jt.build();var r=lt(e,t);for(var i=0;i<r.length;i++){var s=r[i];S(L(s.row,s.leftCol,s.row,s.rightCol))}}function L(e,t,n,r){var i=Jt.rect(e,t,n,r,kt);return nt(i,kt)}function A(e,t){for(var n=0;n<Vt;n++){var r=at(0,n),i=a(h(r),1),s=new Date(Math.max(r,e)),o=new Date(Math.min(i,t));if(s<o){var u=Jt.rect(0,n,0,n,Dt),f=F(r,s),l=F(r,o);u.top=f,u.height=l-f,x(nt(u,Dt))}}}function O(e){return Qt.left(e)}function _(e){return Gt.left(e)}function D(e){return Qt.right(e)}function P(e){return Gt.right(e)}function H(e){return Z("allDaySlot")&&!e.row}function j(e){var t=at(0,e.col),n=e.row;return Z("allDaySlot")&&n--,n>=0&&l(t,tn+n*zt),t}function F(e,n){e=h(e,!0);if(n<l(h(e),tn))return 0;if(n>=l(h(e),nn))return Ht.height();var r=Z("slotMinutes"),i=n.getHours()*60+n.getMinutes()-tn,s=Math.floor(i/r),o=Yt[s];return o===t&&(o=Yt[s]=Ht.find("tr").eq(s).find("td div")[0].offsetTop),Math.max(0,Math.round(o-1+Ut*(i%r/r)))}function I(e){return Mt}function z(e){var t=h(e.start);return e.allDay?t:l(t,Z("defaultEventMinutes"))}function W(e,t){return t?h(e):l(h(e),Z("slotMinutes"))}function X(e,t,n){n?Z("allDaySlot")&&k(e,a(h(t),1),!0):V(e,t)}function V(t,n){var r=Z("selectHelper");Jt.build();if(r){var i=ft(t).col;if(i>=0&&i<Vt){var s=Jt.rect(0,i,0,i,Dt),o=F(t,t),u=F(t,n);if(u>o){s.top=o,s.height=u-o,s.left+=2,s.width-=5;if(e.isFunction(r)){var a=r(t,n);a&&(s.position="absolute",Bt=e(a).css(s).appendTo(Dt))}else s.isStart=!0,s.isEnd=!0,Bt=e(ut({title:"",start:t,end:n,className:["fc-select-helper"],editable:!1},s)),Bt.css("opacity",Z("dragOpacity"));Bt&&(x(Bt),Dt.append(Bt),N(Bt,s.width,!0),C(Bt,s.height,!0))}}}else A(t,n)}function $(){rt(),Bt&&(Bt.remove(),Bt=null)}function J(t){if(t.which==1&&Z("selectable")){st(t);var n;Kt.start(function(e,t){$();if(e&&e.col==t.col&&!H(e)){var r=j(t),i=j(e);n=[r,l(h(r),zt),i,l(h(i),zt)].sort(B),V(n[0],n[3])}else n=null},t),e(document).one("mouseup",function(e){Kt.stop(),n&&(+n[0]==+n[1]&&K(n[0],!1,e),it(n[0],n[3],!1,e))})}}function K(e,t,n){et("dayClick",Et[ft(e).col],e,t,n)}function Q(e,t,n){Kt.start(function(e){rt();if(e)if(H(e))L(e.row,e.col,e.row,e.col);else{var t=j(e),n=l(h(t),Z("defaultEventMinutes"));A(t,n)}},t)}function G(e,t,n){var r=Kt.stop();rt(),r&&et("drop",e,j(r),H(r),t,n)}var Y=this;Y.renderAgenda=s,Y.setWidth=b,Y.setHeight=g,Y.afterRender=E,Y.defaultEventEnd=z,Y.timePosition=F,Y.getIsCellAllDay=H,Y.allDayRow=I,Y.getCoordinateGrid=function(){return Jt},Y.getHoverListener=function(){return Kt},Y.colLeft=O,Y.colRight=D,Y.colContentLeft=_,Y.colContentRight=P,Y.getDaySegmentContainer=function(){return Lt},Y.getSlotSegmentContainer=function(){return Pt},Y.getMinMinute=function(){return tn},Y.getMaxMinute=function(){return nn},Y.getSlotContainer=function(){return Dt},Y.getRowCnt=function(){return 1},Y.getColCnt=function(){return Vt},Y.getColWidth=function(){return qt},Y.getSnapHeight=function(){return Xt},Y.getSnapMinutes=function(){return zt},Y.defaultSelectionEnd=W,Y.renderDayOverlay=k,Y.renderSelection=X,Y.clearSelection=$,Y.reportDayClick=K,Y.dragStart=Q,Y.dragStop=G,ht.call(Y,n,r,i),yt.call(Y),gt.call(Y),tt.call(Y);var Z=Y.opt,et=Y.trigger,nt=Y.renderOverlay,rt=Y.clearOverlays,it=Y.reportSelection,st=Y.unselect
,ot=Y.daySelectionMousedown,ut=Y.slotSegHtml,at=Y.cellToDate,ft=Y.dateToCell,lt=Y.rangeToSegments,ct=r.formatDate,pt,dt,vt,mt,Et,xt,Tt,Nt,Ct,kt,Lt,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt,Vt,$t,Jt,Kt,Qt,Gt,Yt={},Zt,en,tn,nn,rn,sn,on,un;R(n.addClass("fc-agenda")),Jt=new bt(function(t,n){function r(e){return Math.max(a,Math.min(f,e))}var i,s,o;vt.each(function(t,r){i=e(r),s=i.offset().left,t&&(o[1]=s),o=[s],n[t]=o}),o[1]=s+i.outerWidth(),Z("allDaySlot")&&(i=Mt,s=i.offset().top,t[0]=[s,s+i.outerHeight()]);var u=Dt.offset().top,a=_t.offset().top,f=a+_t.outerHeight();for(var l=0;l<$t*Wt;l++)t.push([r(u+Xt*l),r(u+Xt*(l+1))])}),Kt=new wt(Jt),Qt=new St(function(e){return xt.eq(e)}),Gt=new St(function(e){return Tt.eq(e)})}function tt(){function n(e,t){var n,r=e.length,s=[],o=[];for(n=0;n<r;n++)e[n].allDay?s.push(e[n]):o.push(e[n]);y("allDaySlot")&&(et(s,t),L()),u(i(o),t)}function r(){A().empty(),O().empty()}function i(t){var n=R(),r=P(),i=D(),u,a=e.map(t,o),f,c,p,d,v=[];for(f=0;f<n;f++){u=I(0,f),l(u,r),d=s(t,a,u,l(h(u),i-r)),d=nt(d);for(c=0;c<d.length;c++)p=d[c],p.col=f,v.push(p)}return v}function s(e,t,n,r){var i=[],s,o=e.length,u,a,f,l,c,p,d;for(s=0;s<o;s++)u=e[s],a=u.start,f=t[s],f>n&&a<r&&(a<n?(l=h(n),p=!1):(l=a,p=!0),f>r?(c=h(r),d=!1):(c=f,d=!0),i.push({event:u,start:l,end:c,isStart:p,isEnd:d}));return i.sort(ct)}function o(e){return e.end?h(e.end):l(h(e.start),y("defaultEventMinutes"))}function u(n,r){var i,s=n.length,o,u,a,l,h,p,d,v,m,g,w="",E,S,x,N,C,L=O(),A=y("isRTL");for(i=0;i<s;i++)o=n[i],u=o.event,a=H(o.start,o.start),l=H(o.start,o.end),h=j(o.col),p=F(o.col),d=p-h,p-=d*.025,d=p-h,v=d*(o.forwardCoord-o.backwardCoord),y("slotEventOverlap")&&(v=Math.max((v-10)*2,v)),A?(g=p-o.backwardCoord*d,m=g-v):(m=h+o.backwardCoord*d,g=m+v),m=Math.max(m,h),g=Math.min(g,p),v=g-m,o.top=a,o.left=m,o.outerWidth=v,o.outerHeight=l-a,w+=f(u,o);L[0].innerHTML=w,E=L.children();for(i=0;i<s;i++)o=n[i],u=o.event,S=e(E[i]),x=b("eventRender",u,u,S),x===!1?S.remove():(x&&x!==!0&&(S.remove(),S=e(x).css({position:"absolute",top:o.top,left:o.left}).appendTo(L)),o.element=S,u._id===r?c(u,S,o):S[0]._fci=i,$(u,S));T(L,n,c);for(i=0;i<s;i++){o=n[i];if(S=o.element)o.vsides=M(S,!0),o.hsides=k(S,!0),N=S.find(".fc-event-title"),N.length&&(o.contentTop=N[0].offsetTop)}for(i=0;i<s;i++){o=n[i];if(S=o.element)S[0].style.width=Math.max(0,o.outerWidth-o.hsides)+"px",C=Math.max(0,o.outerHeight-o.vsides),S[0].style.height=C+"px",u=o.event,o.contentTop!==t&&C-o.contentTop<10&&(S.find("div.fc-event-time").text(rt(u.start,y("timeFormat"))+" - "+u.title),S.find("div.fc-event-title").remove()),b("eventAfterRender",u,u,S)}}function f(e,t){var n="<",r=e.url,i=W(e,y),s=["fc-event","fc-event-vert"];return w(e)&&s.push("fc-event-draggable"),t.isStart&&s.push("fc-event-start"),t.isEnd&&s.push("fc-event-end"),s=s.concat(e.className),e.source&&(s=s.concat(e.source.className||[])),r?n+="a href='"+q(e.url)+"'":n+="div",n+=" class='"+s.join(" ")+"'"+" style="+"'"+"position:absolute;"+"top:"+t.top+"px;"+"left:"+t.left+"px;"+i+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+q(it(e.start,e.end,y("timeFormat")))+"</div>"+"<div class='fc-event-title'>"+q(e.title||"")+"</div>"+"</div>"+"<div class='fc-event-bg'></div>",t.isEnd&&E(e)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">",n}function c(e,t,n){var r=t.find("div.fc-event-time");w(e)&&v(e,t,r),n.isEnd&&E(e)&&m(e,t,r),N(e,t)}function p(e,t,n){function r(){u||(t.width(s).height("").draggable("option","grid",null),u=!0)}var i=n.isStart,s,o,u=!0,f,l=_(),c=U(),p=z(),v=X(),m=P();t.draggable({opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(n,m){b("eventDragStart",t,e,n,m),K(e,t),s=t.width(),l.start(function(n,s){Z();if(n){o=!1;var l=I(0,s.col),m=I(0,n.col);f=d(m,l),n.row?i?u&&(t.width(c-10),C(t,p*Math.round((e.end?(e.end-e.start)/_t:y("defaultEventMinutes"))/v)),t.draggable("option","grid",[c,1]),u=!1):o=!0:(Y(a(h(e.start),f),a(S(e),f)),r()),o=o||u&&!f}else r(),o=!0;t.draggable("option","revert",o)},n,"drag")},stop:function(n,i){l.stop(),Z(),b("eventDragStop",t,e,n,i);if(o)r(),t.css("filter",""),J(e,t);else{var s=0;u||(s=Math.round((t.offset().top-V().offset().top)/p)*v+m-(e.start.getHours()*60+e.start.getMinutes())),Q(this,e,f,s,u,n,i)}}})}function v(e,t,n){function r(){Z(),m&&(E?(n.hide(),t.draggable("option","grid",null),Y(a(h(e.start),C),a(S(e),C))):(i(k),n.css("display",""),t.draggable("option","grid",[u,f])))}function i(t){var r=l(h(e.start),t),i;e.end&&(i=l(h(e.end),t)),n.text(it(r,i,y("timeFormat")))}var s=g.getCoordinateGrid(),o=R(),u=U(),f=z(),c=X(),p,v,m,w,E,x,T,N,C,k,L;t.draggable({scroll:!1,grid:[u,f],axis:o==1?"y":!1,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(n,r){b("eventDragStart",t,e,n,r),K(e,t),s.build(),p=t.position(),v=s.cell(n.pageX,n.pageY),m=w=!0,E=x=B(v),T=N=0,C=0,k=L=0},drag:function(e,n){var i=s.cell(e.pageX,e.pageY);m=!!i;if(m){E=B(i),T=Math.round((n.position.left-p.left)/u);if(T!=N){var a=I(0,v.col),l=v.col+T;l=Math.max(0,l),l=Math.min(o-1,l);var h=I(0,l);C=d(h,a)}E||(k=Math.round((n.position.top-p.top)/f)*c)}if(m!=w||E!=x||T!=N||k!=L)r(),w=m,x=E,N=T,L=k;t.draggable("option","revert",!m)},stop:function(n,i){Z(),b("eventDragStop",t,e,n,i),m&&(E||C||k)?Q(this,e,C,E?0:k,E,n,i):(m=!0,E=!1,T=0,C=0,k=0,r(),t.css("filter",""),t.css(p),J(e,t))}})}function m(e,t,n){var r,i,s=z(),o=X();t.resizable({handles:{s:".ui-resizable-handle"},grid:s,start:function(n,s){r=i=0,K(e,t),b("eventResizeStart",this,e,n,s)},resize:function(u,a){r=Math.round((Math.max(s,t.height())-a.originalSize.height)/s),r!=i&&(n.text(it(e.start,!r&&!e.end?null:l(x(e),o*r),y("timeFormat"))),i=r)},stop:function(n,i){b("eventResizeStop",this,e,n,i),r?G(this,e,0,o*r,n,i):J(e,t)}})}var g=this;g.renderEvents=n,g.clearEvents=r,g.slotSegHtml=f,pt.call(g);var y=g.opt,b=g.trigger,w=g.isEventDraggable,E=g.isEventResizable,x=g.eventEnd,N=g.eventElementHandlers,L=g.setHeight,A=g.getDaySegmentContainer,O=g.getSlotSegmentContainer,_=g.getHoverListener,D=g.getMaxMinute,P=g.getMinMinute,H=g.timePosition,B=g.getIsCellAllDay,j=g.colContentLeft,F=g.colContentRight,I=g.cellToDate,R=g.getColCnt,U=g.getColWidth,z=g.getSnapHeight,X=g.getSnapMinutes,V=g.getSlotContainer,$=g.reportEventElement,J=g.showEvents,K=g.hideEvents,Q=g.eventDrop,G=g.eventResize,Y=g.renderDayOverlay,Z=g.clearOverlays,et=g.renderDayEvents,tt=g.calendar,rt=tt.formatDate,it=tt.formatDates;g.draggableDayEvent=p}function nt(e){var t=rt(e),n=t[0],r;it(t);if(n){for(r=0;r<n.length;r++)st(n[r]);for(r=0;r<n.length;r++)ot(n[r],0,0)}return ut(t)}function rt(e){var t=[],n,r,i;for(n=0;n<e.length;n++){r=e[n];for(i=0;i<t.length;i++)if(!at(r,t[i]).length)break;(t[i]||(t[i]=[])).push(r)}return t}function it(e){var t,n,r,i,s;for(t=0;t<e.length;t++){n=e[t];for(r=0;r<n.length;r++){i=n[r],i.forwardSegs=[];for(s=t+1;s<e.length;s++)at(i,e[s],i.forwardSegs)}}}function st(e){var n=e.forwardSegs,r=0,i,s;if(e.forwardPressure===t){for(i=0;i<n.length;i++)s=n[i],st(s),r=Math.max(r,1+s.forwardPressure);e.forwardPressure=r}}function ot(e,n,r){var i=e.forwardSegs,s;if(e.forwardCoord===t){i.length?(i.sort(lt),ot(i[0],n+1,r),e.forwardCoord=i[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-r)/(n+1);for(s=0;s<i.length;s++)ot(i[s],0,e.forwardCoord)}}function ut(e){var t=[],n,r,i;for(n=0;n<e.length;n++){r=e[n];for(i=0;i<r.length;i++)t.push(r[i])}return t}function at(e,t,n){n=n||[];for(var r=0;r<t.length;r++)ft(e,t[r])&&n.push(t[r]);return n}function ft(e,t){return e.end>t.start&&e.start<t.end}function lt(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||ct(e,t)}function ct(e,t){return e.start-t.start||t.end-t.start-(e.end-e.start)||(e.event.title||"").localeCompare(t.event.title)}function ht(n,r,i){function s(t,n){var r=$[t];return e.isPlainObject(r)?I(r,n||i):r}function o(e,t){return r.trigger.apply(r,[e,t||F].concat(Array.prototype.slice.call(arguments,2),[F]))}function u(e){var t=e.source||{};return V(e.startEditable,t.startEditable,s("eventStartEditable"),e.editable,t.editable,s("editable"))&&!s("disableDragging")}function f(e){var t=e.source||{};return V(e.durationEditable,t.durationEditable,s("eventDurationEditable"),e.editable,t.editable,s("editable"))&&!s("disableResizing")}function c(e){z={};var t,n=e.length,r;for(t=0;t<n;t++)r=e[t],z[r._id]?z[r._id].push(r):z[r._id]=[r]}function p(){z={},W={},X=[]}function v(e){return e.end?h(e.end):q(e)}function m(e,t){X.push({event:e,element:t}),W[e._id]?W[e._id].push(t):W[e._id]=[t]}function g(){e.each(X,function(e,t){F.trigger("eventDestroy",t.event,t.event,t.element)})}function y(e,t){t.click(function(n){if(!t.hasClass("ui-draggable-dragging")&&!t.hasClass("ui-resizable-resizing"))return o("eventClick",this,e,n)}).hover(function(t){o("eventMouseover",this,e,t)},function(t){o("eventMouseout",this,e,t)})}function b(e,t){E(e,t,"show")}function w(e,t){E(e,t,"hide")}function E(e,t,n){var r=W[e._id],i,s=r.length;for(i=0;i<s;i++)(!t||r[i][0]!=t[0])&&r[i][n]()}function S(e,t,n,r,i,s,u){var a=t.allDay,f=t._id;T(z[f],n,r,i),o("eventDrop",e,t,n,r,i,function(){T(z[f],-n,-r,a),U(f)},s,u),U(f)}function x(e,t,n,r,i,s){var u=t._id;N(z[u],n,r),o("eventResize",e,t,n,r,function(){N(z[u],-n,-r),U(u)},i,s),U(u)}function T(e,n,r,i){r=r||0;for(var s,o=e.length,u=0;u<o;u++)s=e[u],i!==t&&(s.allDay=i),l(a(s.start,n,!0),r),s.end&&(s.end=l(a(s.end,n,!0),r)),R(s,$)}function N(e,t,n){n=n||0;for(var r,i=e.length,s=0;s<i;s++)r=e[s],r.end=l(a(v(r),t,!0),n),R(r,$)}function C(e){return typeof e=="object"&&(e=e.getDay()),K[e]}function k(){return Q}function L(e,t,n){t=t||1;while(K[(e.getDay()+(n?t:0)+7)%7])a(e,t)}function A(){var e=O.apply(null,arguments),t=M(e),n=_(t);return n}function O(e,t){var n=F.getColCnt(),r=Z?-1:1,i=Z?n-1:0;typeof e=="object"&&(t=e.col,e=e.row);var s=e*n+(t*r+i);return s}function M(e){var t=F.visStart.getDay();return e+=G[t],Math.floor(e/Q)*7+Y[(e%Q+Q)%Q]-t}function _(e){var t=h(F.visStart);return a(t,e),t}function D(e){var t=P(e),n=H(t),r=B(n);return r}function P(e){return d(e,F.visStart)}function H(e){var t=F.visStart.getDay();return e+=t,Math.floor(e/7)*Q+G[(e%7+7)%7]-G[t]}function B(e){var t=F.getColCnt(),n=Z?-1:1,r=Z?t-1:0,i=Math.floor(e/t),s=(e%t+t)%t*n+r;return{row:i,col:s}}function j(e,t){var n=F.getRowCnt(),r=F.getColCnt(),i=[],s=P(e),o=P(t),u=H(s),a=H(o)-1;for(var f=0;f<n;f++){var l=f*r,c=l+r-1,h=Math.max(u,l),p=Math.min(a,c);if(h<=p){var d=B(h),v=B(p),m=[d.col,v.col].sort(),g=M(h)==s,y=M(p)+1==o;i.push({row:f,leftCol:m[0],rightCol:m[1],isStart:g,isEnd:y})}}return i}var F=this;F.element=n,F.calendar=r,F.name=i,F.opt=s,F.trigger=o,F.isEventDraggable=u,F.isEventResizable=f,F.setEventData=c,F.clearEventData=p,F.eventEnd=v,F.reportEventElement=m,F.triggerEventDestroy=g,F.eventElementHandlers=y,F.showEvents=b,F.hideEvents=w,F.eventDrop=S,F.eventResize=x;var q=F.defaultEventEnd,R=r.normalizeEvent,U=r.reportEventChange,z={},W={},X=[],$=r.options;F.isHiddenDay=C,F.skipHiddenDays=L,F.getCellsPerWeek=k,F.dateToCell=D,F.dateToDayOffset=P,F.dayOffsetToCellOffset=H,F.cellOffsetToCell=B,F.cellToDate=A,F.cellToCellOffset=O,F.cellOffsetToDayOffset=M,F.dayOffsetToDate=_,F.rangeToSegments=j;var J=s("hiddenDays")||[],K=[],Q,G=[],Y=[],Z=s("isRTL");(function(){s("weekends")===!1&&J.push(0,6);for(var t=0,n=0;t<7;t++)G[t]=n,K[t]=e.inArray(t,J)!=-1,K[t]||(Y[n]=t,n++);Q=n;if(!Q)throw"invalid hiddenDays"})()}function pt(){function t(e,t){var n=r(e,!1,!0);vt(n,function(e,t){_(e.event,t)}),b(n,t),vt(n,function(e,t){L("eventAfterRender",e.event,e.event,t)})}function n(e,t,n){var i=r([e],!0,!1),s=[];return vt(i,function(e,r){e.row===t&&r.css("top",n),s.push(r[0])}),s}function r(t,n,r){var s=G(),a=n?e("<div/>"):s,f=i(t),h,p;return o(f),h=u(f),a[0].innerHTML=h,p=a.children(),n&&s.append(p),l(f,p),vt(f,function(e,t){e.hsides=k(t,!0)}),vt(f,function(e,t){t.width(Math.max(0,e.outerWidth-e.hsides))}),vt(f,function(e,t){e.outerHeight=t.outerHeight(!0)}),c(f,r),f}function i(e){var t=[];for(var n=0;n<e.length;n++){var r=s(e[n]);t.push.apply(t,r)}return t}function s(e){var t=e.start,n=S(e),r=rt(t,n);for(var i=0;i<r.length;i++)r[i].event=e;return r}function o(e){var t=C("isRTL");for(var n=0;n<e.length;n++){var r=e[n],i=(t?r.isEnd:r.isStart)?J:V,s=(t?r.isStart:r.isEnd)?K:$,o=i(r.leftCol),u=s(r.rightCol);r.left=o,r.outerWidth=u-o}}function u(e){var t="";for(var n=0;n<e.length;n++)t+=f(e[n]);return t}function f(e){var t="",n=C("isRTL"),r=e.event,i=r.url,s=["fc-event","fc-event-hori"];A(r)&&s.push("fc-event-draggable"),e.isStart&&s.push("fc-event-start"),e.isEnd&&s.push("fc-event-end"),s=s.concat(r.className),r.source&&(s=s.concat(r.source.className||[]));var o=W(r,C);return i?t+="<a href='"+q(i)+"'":t+="<div",t+=" class='"+s.join(" ")+"'"+" style="+"'"+"position:absolute;"+"left:"+e.left+"px;"+o+"'"+">"+"<div class='fc-event-inner'>",!r.allDay&&e.isStart&&(t+="<span class='fc-event-time'>"+q(Y(r.start,r.end,C("timeFormat")))+"</span>"),t+="<span class='fc-event-title'>"+q(r.title||"")+"</span>"+"</div>",e.isEnd&&O(r)&&(t+="<div class='ui-resizable-handle ui-resizable-"+(n?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),t+="</"+(i?"a":"div")+">",t}function l(t,n){for(var r=0;r<t.length;r++){var i=t[r],s=i.event,o=n.eq(r),u=L("eventRender",s,s,o);u===!1?o.remove():(u&&u!==!0&&(u=e(u).css({position:"absolute",left:i.left}),o.replaceWith(u),o=u),i.element=o)}}function c(e,t){var n=p(e),r=y(),i=[];if(t)for(var s=0;s<r.length;s++)r[s].height(n[s]);for(var s=0;s<r.length;s++)i.push(r[s].position().top);vt(e,function(e,t){t.css("top",i[e.row]+e.top)})}function p(e){var t=I(),n=U(),r=[],i=v(e);for(var s=0;s<t;s++){var o=i[s],u=[];for(var a=0;a<n;a++)u.push(0);for(var f=0;f<o.length;f++){var l=o[f];l.top=j(u.slice(l.leftCol,l.rightCol+1));for(var a=l.leftCol;a<=l.rightCol;a++)u[a]=l.top+l.outerHeight}r.push(j(u))}return r}function v(e){var t=I(),n=[],r,i,s;for(r=0;r<e.length;r++)i=e[r],s=i.row,i.element&&(n[s]?n[s].push(i):n[s]=[i]);for(s=0;s<t;s++)n[s]=m(n[s]||[]);return n}function m(e){var t=[],n=g(e);for(var r=0;r<n.length;r++)t.push.apply(t,n[r]);return t}function g(e){e.sort(mt);var t=[];for(var n=0;n<e.length;n++){var r=e[n];for(var i=0;i<t.length;i++)if(!dt(r,t[i]))break;t[i]?t[i].push(r):t[i]=[r]}return t}function y(){var e,t=I(),n=[];for(e=0;e<t;e++)n[e]=X(e).find("div.fc-day-content > div");return n}function b(e,t){var n=G();vt(e,function(e,n,r){var i=e.event;i._id===t?w(i,n,e):n[0]._fci=r}),T(n,e,w)}function w(e,t,n){A(e)&&N.draggableDayEvent(e,t,n),n.isEnd&&O(e)&&N.resizableDayEvent(e,t,n),D(e,t)}function E(e,t){var n=nt(),r;t.draggable({delay:50,opacity:C("dragOpacity"),revertDuration:C("dragRevertDuration"),start:function(i,s){L("eventDragStart",t,e,i,s),H(e,t),n.start(function(n,i,s,o){t.draggable("option","revert",!n||!s&&!o),et();if(n){var u=it(i),f=it(n);r=d(f,u),Z(a(h(e.start),r),a(S(e),r))}else r=0},i,"drag")},stop:function(i,s){n.stop(),et(),L("eventDragStop",t,e,i,s),r?B(this,e,r,0,e.allDay,i,s):(t.css("filter",""),P(e,t))}})}function x(t,r,i){var s=C("isRTL"),o=s?"w":"e",u=r.find(".ui-resizable-"+o),f=!1;R(r),r.mousedown(function(e){e.preventDefault()}).click(function(e){f&&(e.preventDefault(),e.stopImmediatePropagation())}),u.mousedown(function(s){function u(n){L("eventResizeStop",this,t,n),e("body").css("cursor",""),l.stop(),et(),d&&F(this,t,d,0,n),setTimeout(function(){f=!1},0)}if(s.which!=1)return;f=!0;var l=nt(),c=I(),h=U(),p=r.css("top"),d,v,m=e.extend({},t),g=at(ut(t.start));tt(),e("body").css("cursor",o+"-resize").one("mouseup",u),L("eventResizeStart",this,t,s),l.start(function(r,s){if(r){var u=st(s),f=st(r);f=Math.max(f,g),d=ot(f)-ot(u);if(d){m.end=a(M(t),d,!0);var l=v;v=n(m,i.row,p),v=e(v),v.find("*").css("cursor",o+"-resize"),l&&l.remove(),H(t)}else v&&(P(t),v.remove(),v=null);et(),Z(t.start,a(S(t),d))}},s)})}var N=this;N.renderDayEvents=t,N.draggableDayEvent=E,N.resizableDayEvent=x;var C=N.opt,L=N.trigger,A=N.isEventDraggable,O=N.isEventResizable,M=N.eventEnd,_=N.reportEventElement,D=N.eventElementHandlers,P=N.showEvents,H=N.hideEvents,B=N.eventDrop,F=N.eventResize,I=N.getRowCnt,U=N.getColCnt,z=N.getColWidth,X=N.allDayRow,V=N.colLeft,$=N.colRight,J=N.colContentLeft,K=N.colContentRight,Q=N.dateToCell,G=N.getDaySegmentContainer,Y=N.calendar.formatDates,Z=N.renderDayOverlay,et=N.clearOverlays,tt=N.clearSelection,nt=N.getHoverListener,rt=N.rangeToSegments,it=N.cellToDate,st=N.cellToCellOffset,ot=N.cellOffsetToDayOffset,ut=N.dateToDayOffset,at=N.dayOffsetToCellOffset}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.leftCol<=e.rightCol&&r.rightCol>=e.leftCol)return!0}return!1}function vt(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.element;i&&t(r,i,n)}}function mt(e,t){return t.rightCol-t.leftCol-(e.rightCol-e.leftCol)||t.event.allDay-e.event.allDay||e.event.start-t.event.start||(e.event.title||"").localeCompare(t.event.title)}function gt(){function t(e,t,i){n(),t||(t=a(e,i)),f(e,t,i),r(e,t,i)}function n(e){c&&(c=!1,l(),u("unselect",null,e))}function r(e,t,n,r){c=!0,u("select",null,e,t,n,r)}function i(t){var i=s.cellToDate,u=s.getIsCellAllDay,a=s.getHoverListener(),c=s.reportDayClick;if(t.which==1&&o("selectable")){n(t);var h=this,p;a.start(function(e,t){l(),e&&u(e)?(p=[i(t),i(e)].sort(B),f(p[0],p[1],!0)):p=null},t),e(document).one("mouseup",function(e){a.stop(),p&&(+p[0]==+p[1]&&c(p[0],!0,e),r(p[0],p[1],!0,e))})}}var s=this;s.select=t,s.unselect=n,s.reportSelection=r,s.daySelectionMousedown=i;var o=s.opt,u=s.trigger,a=s.defaultSelectionEnd,f=s.renderSelection,l=s.clearSelection,c=!1;o("selectable")&&o("unselectAuto")&&e(document).mousedown(function(t){var r=o("unselectCancel");if(r&&e(t.target).parents(r).length)return;n(t)})}function yt(){function t(t,n){var r=s.shift();return r||(r=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),r[0].parentNode!=n[0]&&r.appendTo(n),i.push(r.css(t).show()),r}function n(){var e;while(e=i.shift())s.push(e.hide().unbind())}var r=this;r.renderOverlay=t,r.clearOverlays=n;var i=[],s=[]}function bt(e){var t=this,n,r;t.build=function(){n=[],r=[],e(n,r)},t.cell=function(e,t){var i=n.length,s=r.length,o,u=-1,a=-1;for(o=0;o<i;o++)if(t>=n[o][0]&&t<n[o][1]){u=o;break}for(o=0;o<s;o++)if(e>=r[o][0]&&e<r[o][1]){a=o;break}return u>=0&&a>=0?{row:u,col:a}:null},t.rect=function(e,t,i,s,o){var u=o.offset();return{top:n[e][0]-u.top,left:r[t][0]-u.left,width:r[s][1]-r[t][0],height:n[i][1]-n[e][0]}}}function wt(t){function n(e){Et(e);var n=t.cell(e.pageX,e.pageY);if(!n!=!u||n&&(n.row!=u.row||n.col!=u.col))n?(o||(o=n),s(n,o,n.row-o.row,n.col-o.col)):s(n,o),u=n}var r=this,i,s,o,u;r.start=function(r,a,f){s=r,o=u=null,t.build(),n(a),i=f||"mousemove",e(document).bind(i,n)},r.stop=function(){return e(document).unbind(i,n),u}}function Et(e){e.pageX===t&&(e.pageX=e.originalEvent.pageX,e.pageY=e.originalEvent.pageY)}function St(e){function n(t){return i[t]=i[t]||e(t)}var r=this,i={},s={},o={};r.left=function(e){return s[e]=s[e]===t?n(e).position().left:s[e]},r.right=function(e){return o[e]=o[e]===t?r.left(e)+n(e).width():o[e]},r.clear=function(){i={},s={},o={}}}var xt={defaultView:"month",aspectRatio:1.35,header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"yyyy年MMMM月",week:"yyyy年MMMM月d{'&#8212;'d日}",day:"yyyy年MMMM月d日 dddd"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"H:mm"},isRTL:!1,firstDay:1,monthNames:["01","02","03","04","05","06","07","08","09","10","11","12"],monthNamesShort:["01","02","03","04","05","06","07","08","09","10","11","12"],dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["日","一","二","三","四","五","六"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",selectYear:"<span><span id='select-year'></span>年</span>",selectMonth:"<span><span id='select-month'></span>月</span>",today:"今天",month:"月",week:"周",day:"日"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},Tt={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Nt=e.fullCalendar={version:"1.6.4"},Ct=Nt.views={};e.fn.fullCalendar=function(n){if(typeof n=="string"){var i=Array.prototype.slice.call(arguments,1),s;return this.each(function(){var r=e.data(this,"fullCalendar");if(r&&e.isFunction(r[n])){var o=r[n].apply(r,i);s===t&&(s=o),n=="destroy"&&e.removeData(this,"fullCalendar")}}),s!==t?s:this}n=n||{};var o=n.eventSources||[];return delete n.eventSources,n.events&&(o.push(n.events),delete n.events),n=e.extend(!0,{},xt,n.isRTL||n.isRTL===t&&xt.isRTL?Tt:{},n),this.each(function(t,i){var s=e(i),u=new r(s,n,o);s.data("fullCalendar",u),u.render()}),this},Nt.sourceNormalizers=[],Nt.sourceFetchers=[];var kt={dataType:"json",cache:!1},Lt=1;Nt.addDays=a,Nt.cloneDate=h,Nt.parseDate=m,Nt.parseISO8601=g,Nt.parseTime=y,Nt.formatDate=b,Nt.formatDates=w;var At=["sun","mon","tue","wed","thu","fri","sat"],Ot=864e5,Mt=36e5,_t=6e4,Dt={s:function(e){return e.getSeconds()},ss:function(e){return F(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return F(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return F(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return F(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return F(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return F(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return e.getHours()<12?"a":"p"},tt:function(e){return e.getHours()<12?"am":"pm"},T:function(e){return e.getHours()<12?"A":"P"},TT:function(e){return e.getHours()<12?"AM":"PM"},u:function(e){return b(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();return t>10&&t<20?"th":["st","nd","rd"][t%10-1]||"th"},w:function(e,t){return t.weekNumberCalculation(e)},W:function(e){return E(e)}};Nt.dateFormatters=Dt,Nt.applyAll=X,Ct.month=$,Ct.basicWeek=J,Ct.basicDay=K,n({weekMode:"fixed"}),Ct.agendaWeek=Y,Ct.agendaDay=Z,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})})(jQuery)
